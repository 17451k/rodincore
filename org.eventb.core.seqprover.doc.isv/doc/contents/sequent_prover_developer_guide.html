<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Content generated by Mediawiki and mw2html -->
<html dir="ltr" lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
				<meta content="Sequent Prover Developer Guide,New Tactic Providers,Versioned Reasoners" name="keywords" />
		<link href="http://wiki.event-b.org/favicon.ico" rel="shortcut icon" />
		<link href="http://wiki.event-b.org/opensearch_desc.php" rel="search" title="Event-B (English)" type="application/opensearchdescription+xml" />
<link href="http://wiki.event-b.org/index.php?title=Special:Recentchanges&amp;feed=rss" rel="alternate" title="Event-B RSS Feed" type="application/rss+xml" />
<link href="http://wiki.event-b.org/index.php?title=Special:Recentchanges&amp;feed=atom" rel="alternate" title="Event-B Atom Feed" type="application/atom+xml" />
		<title>Sequent Prover Developer Guide - Event-B</title>
		<style media="screen, projection" type="text/css">/*<![CDATA[*/
			@import "shared.css";
			@import "main.css";
		/*]]>*/</style>
		<link href="commonprint.css" media="print" rel="stylesheet" type="text/css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "ie50fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "ie55fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "ie60fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "ie70fixes.css";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="iefixes.js_116"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type="text/javascript">/*<![CDATA[*/
var skin = "monobook";
var stylepath = "/skins";
var wgArticlePath = "/index.php/$1";
var wgScriptPath = "";
var wgScript = "/index.php";
var wgServer = "http://wiki.event-b.org";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Sequent_Prover_Developer_Guide";
var wgTitle = "Sequent Prover Developer Guide";
var wgAction = "view";
var wgRestrictionEdit = [];
var wgRestrictionMove = [];
var wgArticleId = "963";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = false;
var wgCurRevisionId = "6457";
var wgVersion = "1.12.0";
var wgEnableAPI = true;
var wgEnableWriteAPI = false;
/*]]>*/</script>
                
		<script src="wikibits.js_116" type="text/javascript"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script src="ajax.js_116" type="text/javascript"></script>
		<script src="http://wiki.event-b.org/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook" type="text/javascript"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "http://wiki.event-b.org/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "http://wiki.event-b.org/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "http://wiki.event-b.org/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
	</head>
<body class="mediawiki ns-0 ltr page-Sequent_Prover_Developer_Guide">
	<div id="globalWrapperHacked">
		<div id="column-content">
	<div id="content">
		<a id="top" name="top"></a>
				<h1 class="firstHeading">Sequent Prover Developer Guide</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Event-B</h3>
			<!-- ('div', {'id': 'contentSub'}) ('/div', {}) -->
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table cellpadding="0" cellspacing="0" style="clear: right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none; width: auto;">
<tr>
<td> <table class="toc" id="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Welcome_to_Event-B_Sequent_Prover"><span class="tocnumber">1</span> <span class="toctext">Welcome to Event-B Sequent Prover</span></a></li>
<li class="toclevel-1"><a href="#Sequent_Prover_Core"><span class="tocnumber">2</span> <span class="toctext">Sequent Prover Core</span></a>
<ul>
<li class="toclevel-2"><a href="#Sequents"><span class="tocnumber">2.1</span> <span class="toctext">Sequents</span></a></li>
<li class="toclevel-2"><a href="#Proof_Rules"><span class="tocnumber">2.2</span> <span class="toctext">Proof Rules</span></a></li>
<li class="toclevel-2"><a href="#Proof_Trees"><span class="tocnumber">2.3</span> <span class="toctext">Proof Trees</span></a></li>
<li class="toclevel-2"><a href="#Reasoners"><span class="tocnumber">2.4</span> <span class="toctext">Reasoners</span></a>
<ul>
<li class="toclevel-3"><a href="#Concepts"><span class="tocnumber">2.4.1</span> <span class="toctext">Concepts</span></a></li>
<li class="toclevel-3"><a href="#Adding_a_reasoner"><span class="tocnumber">2.4.2</span> <span class="toctext">Adding a reasoner</span></a></li>
<li class="toclevel-3"><a href="#Automatic_Rewriting_Reasoners"><span class="tocnumber">2.4.3</span> <span class="toctext">Automatic Rewriting Reasoners</span></a>
<ul>
<li class="toclevel-4"><a href="#Concepts_2"><span class="tocnumber">2.4.3.1</span> <span class="toctext">Concepts</span></a></li>
<li class="toclevel-4"><a href="#Implementation"><span class="tocnumber">2.4.3.2</span> <span class="toctext">Implementation</span></a></li>
<li class="toclevel-4"><a href="#Testing"><span class="tocnumber">2.4.3.3</span> <span class="toctext">Testing</span></a>
<ul>
<li class="toclevel-5"><a href="#Testing_the_reasoner_ID"><span class="tocnumber">2.4.3.3.1</span> <span class="toctext">Testing the reasoner ID</span></a></li>
<li class="toclevel-5"><a href="#Testing_the_formula_rewriter"><span class="tocnumber">2.4.3.3.2</span> <span class="toctext">Testing the formula rewriter</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-3"><a href="#Automatic_Inference_Reasoners"><span class="tocnumber">2.4.4</span> <span class="toctext">Automatic Inference Reasoners</span></a>
<ul>
<li class="toclevel-4"><a href="#Concepts_3"><span class="tocnumber">2.4.4.1</span> <span class="toctext">Concepts</span></a></li>
<li class="toclevel-4"><a href="#Implementation_2"><span class="tocnumber">2.4.4.2</span> <span class="toctext">Implementation</span></a></li>
<li class="toclevel-4"><a href="#Testing_2"><span class="tocnumber">2.4.4.3</span> <span class="toctext">Testing</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Manual_Rewriting_Reasoners"><span class="tocnumber">2.4.5</span> <span class="toctext">Manual Rewriting Reasoners</span></a>
<ul>
<li class="toclevel-4"><a href="#Concepts_4"><span class="tocnumber">2.4.5.1</span> <span class="toctext">Concepts</span></a></li>
<li class="toclevel-4"><a href="#Implementation_3"><span class="tocnumber">2.4.5.2</span> <span class="toctext">Implementation</span></a></li>
<li class="toclevel-4"><a href="#Testing_3"><span class="tocnumber">2.4.5.3</span> <span class="toctext">Testing</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Manual_Inference_Reasoners"><span class="tocnumber">2.4.6</span> <span class="toctext">Manual Inference Reasoners</span></a>
<ul>
<li class="toclevel-4"><a href="#Concepts_5"><span class="tocnumber">2.4.6.1</span> <span class="toctext">Concepts</span></a></li>
<li class="toclevel-4"><a href="#Implementation_4"><span class="tocnumber">2.4.6.2</span> <span class="toctext">Implementation</span></a></li>
<li class="toclevel-4"><a href="#Testing_4"><span class="tocnumber">2.4.6.3</span> <span class="toctext">Testing</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#General_Reasoners"><span class="tocnumber">2.4.7</span> <span class="toctext">General Reasoners</span></a>
<ul>
<li class="toclevel-4"><a href="#Concepts_6"><span class="tocnumber">2.4.7.1</span> <span class="toctext">Concepts</span></a></li>
<li class="toclevel-4"><a href="#Implementation_5"><span class="tocnumber">2.4.7.2</span> <span class="toctext">Implementation</span></a></li>
<li class="toclevel-4"><a href="#Testing_5"><span class="tocnumber">2.4.7.3</span> <span class="toctext">Testing</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2"><a href="#Tactics"><span class="tocnumber">2.5</span> <span class="toctext">Tactics</span></a>
<ul>
<li class="toclevel-3"><a href="#Concepts_7"><span class="tocnumber">2.5.1</span> <span class="toctext">Concepts</span></a>
<ul>
<li class="toclevel-4"><a href="#Adding_a_tactic"><span class="tocnumber">2.5.1.1</span> <span class="toctext">Adding a tactic</span></a>
<ul>
<li class="toclevel-5"><a href="#Automatic_Tactics"><span class="tocnumber">2.5.1.1.1</span> <span class="toctext">Automatic Tactics</span></a></li>
<li class="toclevel-5"><a href="#Manual_Tactics"><span class="tocnumber">2.5.1.1.2</span> <span class="toctext">Manual Tactics</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1"><a href="#Event-B_Tactics"><span class="tocnumber">3</span> <span class="toctext">Event-B Tactics</span></a>
<ul>
<li class="toclevel-2"><a href="#Adding_a_POM_Tactic"><span class="tocnumber">3.1</span> <span class="toctext">Adding a POM Tactic</span></a></li>
<li class="toclevel-2"><a href="#Adding_a_Post_Tactic"><span class="tocnumber">3.2</span> <span class="toctext">Adding a Post Tactic</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#UI_Tactic_Providers"><span class="tocnumber">4</span> <span class="toctext">UI Tactic Providers</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
</td></tr></table>
<a name="Welcome_to_Event-B_Sequent_Prover"></a><h1> <span class="mw-headline"> Welcome to Event-B Sequent Prover </span></h1>
<p>The Event-B sequent prover is a plug-in for the Eclipse platform which provides different proof rules to be used within the Rodin Tool. The following sections discuss the issues when extending the Event-B sequent prover. 
</p>
<a name="Sequent_Prover_Core"></a><h1> <span class="mw-headline"> Sequent Prover Core </span></h1>
<a name="Sequents"></a><h2> <span class="mw-headline"> Sequents </span></h2>
<p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="Proof_Rules"></a><h2> <span class="mw-headline"> Proof Rules </span></h2>
<p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="Proof_Trees"></a><h2> <span class="mw-headline"> Proof Trees </span></h2>
<p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="Reasoners"></a><h2> <span class="mw-headline"> Reasoners </span></h2>
<a name="Concepts"></a><h3> <span class="mw-headline"> Concepts </span></h3>
<p>Reasoners are used in the Event-B sequent prover to generate <a href="#Proof_Rules" title=""> proof rules</a>. A reasoner is provided with the sequent to prove as well as some extra optional input. The reasoner is implemented by a computer program and it is the job of the developers to ensure that the reasoners either fail or generate logically valid proof rules.
</p><p>An example of a reasoner is the "conjI" reasoner that generates the conjI proof rules, which splits a conjunctive goal into two sub-goals. Here, assuming that the input sequent is <img alt="A, B, C \vdash D \land E" class="tex" src="images/math_f089.png" />, the conjI reasoner produces the following proof rules.
</p>
<table border="1" cellpadding="15" cellspacing="4" class="Infrule" frame="box" rules="none" style="margin:1em 1em 1em 0; border-color: #AAAAAA; border-style:solid; empty-cells:show; display:inline-table;">
<tr>
<td><img alt="\frac{\quad A, B, C \vdash D ~~~ A, B, C \vdash E\quad}{A, B, C \vdash D \land E}" class="tex" src="images/math_a4ec.png" />
</td><td>
</td></tr></table>
<a name="Adding_a_reasoner"></a><h3> <span class="mw-headline"> Adding a reasoner </span></h3>
<p>A reasoner is added into the Event-B sequent prover using the extension point <tt>org.eventb.core.seqprover.reasoners</tt>. Below is an example of how to contribute to the extension point.
</p>
<pre>&lt;extension point="org.eventb.core.seqprover.reasoners"&gt;
  &lt;reasoner
     class="org.eventb.contributors.seqprover.reasoners.Hyp"
     id="hyp"
     name="%hypName"/&gt;
&lt;/extension&gt;
</pre>
<p>The above declaration defines a reasoner with a specific id (which will be automatically prefixed by the project name, e.g. <tt>org.eventb.contributors.seqprover</tt>). The name is an externalised string which is used for display purpose.
</p><p>The class attribute must be a valid Java class name which will be used to create an instance of the reasoner. This class must implement the <tt>org.eventb.core.seqprover.IReasoner</tt> interface.
</p><p>However, most of the time, developers only need to extend one of the abstract implementations (depending on the type of the reasoner). For this implementation purpose, the type of the reasoners are specified below: 
</p>
<ol><li> Automatic rewriting reasoners: Reasoners which apply some rewriting rules automatically to simplify the sequent. 
</li><li> Automatic inference reasoners: Reasoners which apply an inference rule automatically. 
</li><li> Manual rewriters: Reasoners which apply a rewriting rule at a given position. 
</li><li> Manual inference: Reasoner which apply an inference rule manually. 
</li><li> General reasoners: If the reasoner does not fall into the above categories, clients need to implement the interface <tt>IReasoner</tt> directly. 
</li></ol>
<p>Implementing a reasoner is only a first step of contributing to the sequent prover. In order to use a reasoner, the reasoner needs to be wrapped around by a tactic. 
</p><p>See also <a href="http://wiki.event-b.org/index.php/Versioned_Reasoners" title="Versioned Reasoners">Versioned Reasoners</a>.
</p>
<a name="Automatic_Rewriting_Reasoners"></a><h3> <span class="mw-headline"> Automatic Rewriting Reasoners </span></h3>
<a name="Concepts_2"></a><h4> <span class="mw-headline"> Concepts </span></h4>
<p>The reasoners of this type do not have any extra input (except the sequent) and automatically rewrite all occurrences of certain formulas into other ones. An example of this is the rewriter which rewrites according to the following rules: 
</p>
<ul><li> <img alt="\btrue \limp P \defi P" class="tex" src="images/math_4123.png" />
</li><li> <img alt="P \limp \btrue \defi \btrue" class="tex" src="images/math_c067.png" />
</li><li> <img alt="\bfalse \limp P \defi \btrue" class="tex" src="images/math_3d9c.png" />
</li><li> <img alt="P \limp \bfalse \defi \lnot P" class="tex" src="images/math_69d5.png" />
</li></ul>
<a name="Implementation"></a><h4> <span class="mw-headline"> Implementation </span></h4>
<p>Step by step: 
</p>
<ul><li> Create a new plug-in project, e.g. <tt>org.eventb.contributor.seqprover.arith</tt> 
</li><li> Added dependency: <tt>org.eventb.core.seqprover</tt>. 
</li><li> Add an extension to the point <tt>org.eventb.core.seqprover.reasoners</tt>, e.g., 
</li></ul>
<pre>class="org.eventb.core.seqprover.arith.ArithRewrites"
id="org.eventb.core.seqprover.arithmetic"
name="%arithRewritesName"
   
</pre>
<ul><li> Implement the class: Click on the class attribute of the extension, a dialog will appear for new class wizard. 
</li><li> This class should extend the <tt>import org.eventb.internal.core.seqprover.eventbExtensions.rewriters.AbstractAutoRewrites</tt>. For the moment, the class is internal within the plug-in and subject to change. Clients can make a copy of this class to develop their own implementation. 
</li></ul>
<dl><dd>An example is as follows: 
</dd></dl>
<pre>import org.eventb.core.ast.IFormulaRewriter;
import org.eventb.core.seqprover.SequentProver;
&nbsp;
public class ArithRewrites extends AbstractAutoRewrites {
  private static final IFormulaRewriter rewriter = new ArithRewriterImpl();
  &nbsp;
  public AutoRewrites() {
    super(rewriter, true);
  }
  &nbsp;
  public static String REASONER_ID = SequentProver.PLUGIN_ID + ".autoRewrites";
  &nbsp;
  public String getReasonerID() {
    return REASONER_ID;
  }
  &nbsp;
  @Override
  protected String getDisplayName() {
    return "simplification rewrites";
  }
}
   
</pre>
<dl><dd>The constructor shall call the super constructor <tt>super(IFormulaRewriter, boolean)</tt> to specify the formula rewriter to be used, and the reasoner may hide the source of the rewritten hypothesis or not. Clients need to implement two methods:
<ol><li> The first one, namely <tt>getReasonerID()</tt>, returns the string ID of this reasoner. It must be the same ID as the one declared in the XML file (do not forget the project name prefix). 
</li><li> The second method is <tt>getDisplayName()</tt>. It returns the display name of the reasoner, which will be used for display purpose in the UI. 
</li></ol>
</dd></dl>
<dl><dd>In order to implement the formula rewriter, clients are suggested to use Tom. The instructions are as follows: 
</dd></dl>
<dl><dd><ol><li> Create a file named <tt>build-tom.xml</tt> within your project. The best way to do this is to copy from <tt>org.eventb.core.seqprover</tt>, and modify this accordingly. 
</li><li> Right click on the name of your project and choose "Properties". 
</li><li> Choose "Builders", then click on "New" and choose "Ant Build" and click "OK". A dialog will open for the new builder wizard. 
</li><li> At the "Main" tab: 
<ol><li> Enter the name of the builder (e.g., Tom). 
</li><li> Buildfile: "Browse Workspace" to your <tt>build-tom.xml</tt>. 
</li><li> Base Directory: "Variables" and choose "build_project". 
</li></ol>
</li><li> At the "Targets" tab: 
<ol><li> Auto Build: Click "Set Targets" and choose "tom" from the list. 
</li><li> During a "clean": Click "Set Targets" and choose "clean" (unchecked "tom"). 
</li></ol>
</li></ol>
</dd><dd>You will come back to this builder later on. 
</dd></dl>
<ul><li> Implementing the rules: 
<ul><li> Create a file called <tt>ArithRewriterImpl.t</tt> (the name should be consistent with the step above). 
</li><li> The content of the file should look like this:
</li></ul>
</li></ul>
<pre>package org.eventb.core.seqprover.arith;
&nbsp;
import java.util.ArrayList;
import java.util.Collection;
import java.math.BigInteger;
&nbsp;
import org.eventb.core.ast.AssociativeExpression;
import org.eventb.core.ast.AssociativePredicate;
import org.eventb.core.ast.AtomicExpression;
import org.eventb.core.ast.BinaryExpression;
import org.eventb.core.ast.BinaryPredicate;
import org.eventb.core.ast.BoolExpression;
import org.eventb.core.ast.BoundIdentDecl;
import org.eventb.core.ast.BoundIdentifier;
import org.eventb.core.ast.DefaultRewriter;
import org.eventb.core.ast.Expression;
import org.eventb.core.ast.Formula;
import org.eventb.core.ast.FormulaFactory;
import org.eventb.core.ast.FreeIdentifier;
import org.eventb.core.ast.Identifier;
import org.eventb.core.ast.IntegerLiteral;
import org.eventb.core.ast.LiteralPredicate;
import org.eventb.core.ast.Predicate;
import org.eventb.core.ast.QuantifiedExpression;
import org.eventb.core.ast.QuantifiedPredicate;
import org.eventb.core.ast.RelationalPredicate;
import org.eventb.core.ast.SetExtension;
import org.eventb.core.ast.SimplePredicate;
import org.eventb.core.ast.UnaryExpression;
import org.eventb.core.ast.UnaryPredicate;
import org.eventb.core.seqprover.eventbExtensions.Lib;
&nbsp;
@SuppressWarnings("unused")
public class ArithRewriterImpl extends DefaultRewriter {
&nbsp;
  public ArithRewriterImpl() {
    super(true, FormulaFactory.getDefault());
  }
  ...
}
</pre>
<dl><dd> See for example <tt>org.eventb.internal.core.seqprover.eventbExtensions.rewriters.AutoRewriterImpl.t</tt>, which implements most of the automatic rewriting rules supplied by the Rodin platform. 
</dd></dl>
<a name="Testing"></a><h4> <span class="mw-headline"> Testing </span></h4>
<p>The abstract automatic rewriting reasoners have been tested, so clients only need to test if the reasoner has been declared correctly (testing the reasoner ID), and if the formula rewriter used for this reasoner has been implemented correctly. 
</p>
<a name="Testing_the_reasoner_ID"></a><h5> <span class="mw-headline"> Testing the reasoner ID </span></h5>
<p>This test is based on the abstract class <tt>org.eventb.core.seqprover.rewriterTests.AbstractAutomaticReasonerTests</tt>. An example is as follows. 
</p>
<pre>import org.eventb.core.seqprover.SequentProver;
&nbsp;
public class ArithRewriterReasonerTests extends AbstractAutomaticReasonerTests {
&nbsp;
  @Override
  protected SuccessfulTest[] getSuccessfulTests() {
    // No need to test this. This should be guaranteed by testing the
    // abstract automatic rewrite reasoner and the formula rewriter itself.
    return new SuccessfulTest [] {
    };
  }
  &nbsp;
  @Override
  protected String[] getUnsuccessfulTests() {
    // No need to test this. This should be guaranteed by testing the
    // abstract automatic rewrite reasoner and the formula rewriter itself.
    return new String [] {
    };	
  }
  &nbsp;
  @Override
  public String getReasonerID() {
    return "org.eventb.core.seqprover.arithmetic";
  }
}
   
</pre>
<p>In this test, clients only need to provide the reasoner ID under test. 
</p>
<a name="Testing_the_formula_rewriter"></a><h5> <span class="mw-headline"> Testing the formula rewriter </span></h5>
<p>This test is based on the abstract class <tt>org.eventb.core.seqprover.rewriterTests.AbstractFormulaRewriterTests</tt>. An example is as follows. 
</p>
<pre>import org.eventb.internal.core.seqprover.eventbExtensions.rewriters.AutoRewriterImpl;
import org.junit.Test;
&nbsp;
public class ArithFormulaRewriterTests extends AbstractFormulaRewriterTests {
  // The automatic rewriter for testing.
  private static final IFormulaRewriter rewriter = new ArithRewriterImpl();
  &nbsp;
  /**
   * Constructor.
   * 
   * Create an abstract formula rewriter test with the input is the automatic
   * rewriter.
   */
  public ArithFormulaRewriterTests() {
    super(rewriter);
  }
  &nbsp;
  /**
   * Tests for rewriting conjunctions.
   */
  @Test
  public void testRewrite() {
    // Test rewriting predicate
    predicateTest("⊥", "x = 1 ∧ ⊥");
    // Test rewriting expression
      expressionTest("1", "card({x + 1})");
  }
}
   
</pre>
<p>More instructions about how to use the method <tt>predicateTest</tt> and <tt>expressionTest</tt> (along with some other utility methods) can be found in the <tt>org.eventb.core.seqprover.rewriterTests.AbstractFormulaRewriterTests</tt> class.
</p>
<a name="Automatic_Inference_Reasoners"></a><h3> <span class="mw-headline"> Automatic Inference Reasoners </span></h3>
<a name="Concepts_3"></a><h4> <span class="mw-headline"> Concepts </span></h4>
<p>The reasoners of this type do not have any extra input (except the sequent) and implements an inference rule or a collection of inference rules. For example, a reasoner can implement the following inference rules which deal with conjunction in the hypothesis and in goal. 
</p>
<table border="1" cellpadding="15" cellspacing="4" class="Infrule" frame="box" rules="none" style="margin:1em 1em 1em 0; border-color: #AAAAAA; border-style:solid; empty-cells:show; display:inline-table;">
<tr>
<td><img alt="\frac{\quad H, P \vdash Q \quad}{H \vdash P \limp Q}" class="tex" src="images/math_bf20.png" />
</td><td>
</td></tr></table>
<a name="Implementation_2"></a><h4> <span class="mw-headline"> Implementation </span></h4>
<p>In order to implement a reasoner of this type, clients extend the abstract class <tt>org.eventb.core.seqprover.reasonerInputs.EmptyInputReasoner</tt>. Examples include <tt>org.eventb.internal.core.seqprover.eventbExtensions.ImpI</tt> which implements the above proof rule. 
</p>
<a name="Testing_2"></a><h4> <span class="mw-headline"> Testing </span></h4>
<p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="Manual_Rewriting_Reasoners"></a><h3> <span class="mw-headline"> Manual Rewriting Reasoners </span></h3>
<a name="Concepts_4"></a><h4> <span class="mw-headline"> Concepts </span></h4>
<p>The reasoners of this type have an input that refers to a predicate of the sequent (either a hypothesis or null if the goal is rewritten) and the position in that predicate where the rewriting occurs. An example of this is the rewriter which rewrites according to the following rules: 
</p><p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="Implementation_3"></a><h4> <span class="mw-headline"> Implementation </span></h4>
<p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="Testing_3"></a><h4> <span class="mw-headline"> Testing </span></h4>
<p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="Manual_Inference_Reasoners"></a><h3> <span class="mw-headline"> Manual Inference Reasoners </span></h3>
<a name="Concepts_5"></a><h4> <span class="mw-headline"> Concepts </span></h4>
<p>The reasoners of this type have an input that refers to a predicate of the sequent (either a hypothesis or null if the goal is rewritten) and the position in that predicate where the rule is applied. For example, a reasoner can implement the following inference rules which deal with conjunction in the hypothesis and in goal. 
</p>
<table border="1" cellpadding="15" cellspacing="4" class="Infrule" frame="box" rules="none" style="margin:1em 1em 1em 0; border-color: #AAAAAA; border-style:solid; empty-cells:show; display:inline-table;">
<tr>
<td><img alt="\frac{\quad H, P \vdash Q \quad}{H \vdash P \limp Q}" class="tex" src="images/math_bf20.png" />
</td><td>
</td></tr></table>
<a name="Implementation_4"></a><h4> <span class="mw-headline"> Implementation </span></h4>
<p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="Testing_4"></a><h4> <span class="mw-headline"> Testing </span></h4>
<p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="General_Reasoners"></a><h3> <span class="mw-headline"> General Reasoners </span></h3>
<a name="Concepts_6"></a><h4> <span class="mw-headline"> Concepts </span></h4>
<p>If the reasoner does not fall into the above categories, clients need to implement the interface <tt>IReasoner</tt> directly. It includes how to serialize/deserialize the reasoner input. More information to follow ... 
</p><p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="Implementation_5"></a><h4> <span class="mw-headline"> Implementation </span></h4>
<p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="Testing_5"></a><h4> <span class="mw-headline"> Testing </span></h4>
<p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="Tactics"></a><h2> <span class="mw-headline"> Tactics </span></h2>
<a name="Concepts_7"></a><h3> <span class="mw-headline"> Concepts </span></h3>
<p>Tactics provide a way to structure strategic or heuristic knowledge about proof search. They provide control structures to call <a href="#Reasoners" title="">reasoners</a> or other tactics to make modifications to the <a href="#Proof_Trees" title=""> proof trees</a>. In the Rodin platform, the users are dealing with tactics, not reasoners.
</p><p>A tactic can just be the wrapper around a reasoner, but it can be more complicated by combining different tactics.
</p>
<a name="Adding_a_tactic"></a><h4> <span class="mw-headline"> Adding a tactic </span></h4>
<p>Tactics are divided into two classes: automatic and manual tactics. 
</p>
<a name="Automatic_Tactics"></a><h5> <span class="mw-headline"> Automatic Tactics </span></h5>
<p>A tactic is added into the Event-B sequent prover using the extension point <tt>org.eventb.core.seqprover.autoTactics</tt>.
</p>
<pre> &lt;extension point="org.eventb.core.seqprover.autoTactics"&gt;
   &lt;autoTactic
           class="org.eventb.contributors.seqprover.TrueGoalTac"
           description="%trueGoalTacDesc"
           id="trueGoalTac"
           name="%trueGoalTacName"&gt;
   &lt;/autoTactic&gt;
 &lt;/extension&gt;
</pre>
<p>The above declaration defines an automatic tactic with a specific id (which will automatically be prefixed by the project name, e.g. org.eventb.contributors.seqprover). The name attribute is an externalised string used for display purposes. The description attribute is an externalised string that gives the detailed description of the tactic (what it does).
</p><p>The <tt>class</tt> attribute must be a valid Java class name which will be used to create an instance of the tactic. This class must implement the <tt>org.eventb.core.seqprover.ITactic</tt> interface.
</p><p>For automatic tactics, they must have no input, and most of the time they are just a wrapper around an automatic reasoner. Below is an example of such a tactic. 
</p>
<pre>public static class AutoTac extends AbsractLazilyConstrTactic {
  @Override
  protected ITactic getSingInstance() {
    return BasicTactics.reasonerTac(new AutoReasoner(), EMPTY_INPUT);
  }
}
</pre>
<p>Here, the implementation extends the abstract class <tt>org.eventb.core.seqprover.eventbExtensions.AutoTactics#AbstractLazilyConstrTactic</tt>. <tt>AutoReasoner</tt> is the name of the class which implements an automatic reasoner expecting an empty input (See <a href="#Reasoners" title=""> reasoners</a>).
</p>
<a name="Manual_Tactics"></a><h5> <span class="mw-headline"> Manual Tactics </span></h5>
<p><span style="background-color:yellow;"><b>TODO</b></span>
</p>
<a name="Event-B_Tactics"></a><h1> <span class="mw-headline"> Event-B Tactics </span></h1>
<a name="Adding_a_POM_Tactic"></a><h2> <span class="mw-headline"> Adding a POM Tactic </span></h2>
<p>POM tactics are tactics that are run by the auto POM. Only automatic tactics (See <a href="#Tactics" title=""> tactics</a>) can be declared as POM tactics. 
</p><p>POM tactics are added using the extension point <tt>org.eventb.core.pomTactic</tt>. An example is given below: 
</p>
<pre>&lt;extension point="org.eventb.core.pomTactics"&gt;
  &lt;tactic id="org.eventb.core.seqprover.trueGoalTac"/&gt;
&lt;/extension&gt;
</pre>
<p>Each tactic element only contains an attribute id, which must be a valid tactic ID (including the project prefix) as declared using the <tt>org.eventb.core.seqprover.autoTactics</tt> extension point. 
</p><p>Once declared as a POM tactic, the information about the tactic will appear in the preferences for the POM tactic and the users of the platform. However, this tactic will not be a default POM tactic and the users must change the preferences to enable this tactic.
</p>
<a name="Adding_a_Post_Tactic"></a><h2> <span class="mw-headline"> Adding a Post Tactic </span></h2>
<p>Post tactics are tactics that are run after every manual proof steps in interactive mode. Only automatic tactics (See <a href="#Tactics" title=""> tactics</a>) can be declared as post tactics. 
</p><p>Post tactics are added using the extension point <tt>org.eventb.core.postTactic</tt>. An example is as follows: 
</p>
<pre>&lt;extension point="org.eventb.core.postTactics"&gt;
  &lt;tactic id="org.eventb.core.seqprover.trueGoalTac"/&gt;
&lt;/extension&gt;
</pre>
<p>Each tactic element only contains an attribute id which must be a valid tactic ID (including the project prefix) as declared using the <tt>org.eventb.core.seqprover.autoTactics</tt> extension point. 
</p><p>Once declared as a post tactic, the information about the tactic will appear in the preferences for the post tactic and the users of the platform. However, this tactic will not be a default post tactic and the users must change the preferences to enable this tactic.
</p>
<a name="UI_Tactic_Providers"></a><h1> <span class="mw-headline"> UI Tactic Providers </span></h1>
<p>Tactic providers allow to define how manual tactics contribute to the User Interface.
</p><p><span style="background-color:yellow;"><b>TODO</b></span>
</p><p>See also <a href="http://wiki.event-b.org/index.php/New_Tactic_Providers" title="New Tactic Providers"> New Tactic Providers</a>.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 156/1000000
Post-expand include size: 1756/2097152 bytes
Template argument size: 123/2097152 bytes
-->

<!-- Saved in parser cache with key mediawiki_eventb:pcache:idhash:963-0!1!0!!en!2!edit=0 and timestamp 20100727133624 -->
<div class="printfooter">
Retrieved from "<a href="">http://wiki.event-b.org/index.php/Sequent_Prover_Developer_Guide</a>"</div>
			<div id="catlinks"><p class="catlinks"><a href="http://wiki.event-b.org/index.php/Special:Categories" title="Special:Categories">Categories</a>: <span dir="ltr"><a href="http://wiki.event-b.org/index.php/Category:Developer_documentation" title="Category:Developer documentation">Developer documentation</a></span> | <span dir="ltr"><a href="http://wiki.event-b.org/index.php/Category:Work_in_progress" title="Category:Work in progress">Work in progress</a></span></p></div>			<!-- end content --><!-- ('div', {'class': 'visualClear'}) ('/div', {}) --></div></div></div>
    <div id="column-one">
      <!-- ('div', {'id': 'p-cactions', 'class': 'portlet'}) ('/div', {}) -->
      <!-- ('div', {'class': 'portlet', 'id': 'p-personal'}) ('/div', {}) -->
      <!-- ('div', {'class': 'portlet', 'id': 'p-logo'}) ('/div', {}) -->
      <div class="portlet" id="p-nav">
  
      </div>
      <!-- ('div', {'id': 'p-search', 'class': 'portlet'}) ('/div', {}) -->
      <!-- ('div', {'class': 'portlet', 'id': 'p-tb'}) ('/div', {}) -->
    </div>
    <!-- end left column -->
  <!-- end of the left (by default at least) column -->
			<!-- ('div', {'class': 'visualClear'}) ('/div', {}) -->
			<div id="footerHacked">
				<ul id="f-list">
				<li id="lastmod"> This page was last modified 09:48, 17 June 2010.</li>
				<li id="viewcount">This page has been accessed 257 times.</li>
				<li id="privacy"><a href="http://wiki.event-b.org/index.php/Event-B:Privacy_policy" title="Event-B:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="http://wiki.event-b.org/index.php/Event-B:About" title="Event-B:About">About Event-B</a></li>
				<li id="disclaimer"><a href="http://wiki.event-b.org/index.php/Event-B:General_disclaimer" title="Event-B:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
		
	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served in 0.210 secs. --><br /></body></html>
